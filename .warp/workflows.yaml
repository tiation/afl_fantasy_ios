# ğŸ† AFL Fantasy Platform - Warp Workflows
# Quick development commands for Warp terminal

workflows:
  # ğŸ”§ Quick Fixes
  fix_ports:
    name: "ğŸ”§ Fix Port Conflicts"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./fix-ports.sh"
    description: "Kill any processes using ports 3000, 4000, 5173 and clear for AFL Fantasy"
    
  # ğŸš€ Development Commands
  start_dev:
    name: "ğŸš€ Start AFL Fantasy Platform"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./start.sh"
    description: "Start both frontend and backend development servers"
    
  setup_project:
    name: "ğŸ› ï¸ Setup AFL Fantasy Project"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./setup.sh"
    description: "First-time setup with dependency installation and environment configuration"
    
  # ğŸ§ª Quality & Testing
  run_tests:
    name: "ğŸ§ª Run All Tests"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./test.sh"
    description: "Run complete test suite including type checking, linting, and unit tests"
    
  type_check:
    name: "ğŸ” TypeScript Check"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run check"
    description: "Run TypeScript type checking"
    
  lint_fix:
    name: "ğŸ”§ Lint & Format Code"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run lint && npm run format"
    description: "Fix linting issues and format code"
    
  # ğŸ—ï¸ Build & Deploy
  build_prod:
    name: "ğŸ—ï¸ Build Production"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./build.sh"
    description: "Build optimized production bundle"
    
  start_prod:
    name: "ğŸš€ Start Production Server"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm start"
    description: "Start production server (after build)"
    
  # ğŸ“Š Monitoring & Health
  health_check:
    name: "ğŸ“Š Health Check"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run health-check"
    description: "Check API health and connectivity"
    
  show_status:
    name: "ğŸ“ˆ Project Status"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && echo 'ğŸ† AFL Fantasy Platform Status' && echo '================================' && echo 'ğŸ“ Directory:' && pwd && echo 'ğŸ“¦ Dependencies:' && (test -d node_modules && echo 'âœ… Installed' || echo 'âŒ Missing') && echo 'ğŸ”§ Environment:' && (test -f .env && echo 'âœ… Configured' || echo 'âŒ Missing .env file') && echo 'ğŸš€ Server Status:' && curl -s http://localhost:5173/api/health | head -1 || echo 'âŒ Server not running'"
    description: "Show current project status and health"
    
  open_status_dashboard:
    name: "ğŸ“Š Open Status Dashboard"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && ./status.sh"
    description: "Open real-time visual status dashboard in browser"
    
  # ğŸ“± iOS Development
  open_ios:
    name: "ğŸ“± Open iOS Project"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios/ios && open AFLFantasy.xcodeproj"
    description: "Open iOS project in Xcode"
    
  ios_build:
    name: "ğŸ”¨ Build iOS App"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios/ios && xcodebuild -scheme AFLFantasy -configuration Debug -sdk iphonesimulator build"
    description: "Build iOS app for simulator"
    
  # ğŸ—„ï¸ Database Commands
  db_push:
    name: "ğŸ—„ï¸ Push Database Schema"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run db:push"
    description: "Push database schema changes using Drizzle"
    
  db_generate:
    name: "ğŸ“ Generate DB Migration"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run db:generate"
    description: "Generate database migration files"
    
  # ğŸ”’ Security & Maintenance
  security_audit:
    name: "ğŸ”’ Security Audit"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run audit:security"
    description: "Run npm security audit"
    
  clean_install:
    name: "ğŸ§¹ Clean Install"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && rm -rf node_modules package-lock.json && npm install"
    description: "Clean reinstall of all dependencies"
    
  # ğŸ“š Documentation & Help
  open_docs:
    name: "ğŸ“š Open Documentation"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && open docs/"
    description: "Open documentation directory in Finder"
    
  show_urls:
    name: "ğŸŒ Show URLs"
    command: "echo 'ğŸ† AFL Fantasy Platform URLs' && echo '=============================' && echo 'ğŸŒ Web Dashboard: http://localhost:5173' && echo 'ğŸ”Œ API Health: http://localhost:5173/api/health' && echo 'ğŸ“Š API Docs: http://localhost:5173/api' && echo 'ğŸ“± iOS Simulator: Available after Xcode build' && echo 'ğŸ“š Documentation: file://$(pwd)/docs/' && echo ''"
    description: "Display all relevant URLs and endpoints"
    
  # ğŸ”„ Git & Version Control  
  quick_commit:
    name: "ğŸ”„ Quick Commit"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && git add -A && git status"
    description: "Add all changes and show git status"
    arguments:
      - name: msg
        description: "Commit message"
        
  git_status:
    name: "ğŸ“Š Git Status"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && git status && echo '' && git log --oneline -5"
    description: "Show git status and recent commits"
    
  # ğŸ³ Docker Commands
  docker_build:
    name: "ğŸ³ Build Docker Image"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run docker:build"
    description: "Build Docker image for the platform"
    
  docker_run:
    name: "ğŸš€ Run Docker Container"
    command: "cd ~/workspace/10_projects/afl_fantasy_ios && npm run docker:run"
    description: "Run the platform in Docker container"
