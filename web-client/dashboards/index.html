<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFL Fantasy Command Center</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="nav-header">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="brand-icon">
                    <i data-lucide="zap"></i>
                </div>
                <h1>AFL Fantasy Command Center</h1>
            </div>
            <div class="nav-controls">
                <button class="nav-btn" id="refreshBtn">
                    <i data-lucide="refresh-cw"></i>
                    <span>Refresh</span>
                </button>
                <button class="nav-btn" id="settingsBtn">
                    <i data-lucide="settings"></i>
                    <span>Settings</span>
                </button>
                <div class="connection-status" id="connectionStatus">
                    <div class="status-dot"></div>
                    <span>Live</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard Grid -->
    <div class="dashboard-container">
        <!-- System Status Overview -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2>System Status</h2>
                <div class="section-actions">
                    <button class="action-btn secondary" id="systemLogsBtn">
                        <i data-lucide="file-text"></i>
                        View Logs
                    </button>
                </div>
            </div>
            <div class="status-grid">
                <div class="status-card primary" id="expressStatus">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="server"></i>
                        </div>
                        <div class="card-title">Express Server</div>
                    </div>
                    <div class="card-content">
                        <div class="status-indicator">
                            <div class="status-dot active"></div>
                            <span class="status-text">Running</span>
                        </div>
                        <div class="card-stats">
                            <div class="stat">
                                <span class="stat-label">Port</span>
                                <span class="stat-value">5002</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Uptime</span>
                                <span class="stat-value" id="expressUptime">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="status-card secondary" id="databaseStatus">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="database"></i>
                        </div>
                        <div class="card-title">PostgreSQL</div>
                    </div>
                    <div class="card-content">
                        <div class="status-indicator">
                            <div class="status-dot active"></div>
                            <span class="status-text">Connected</span>
                        </div>
                        <div class="card-stats">
                            <div class="stat">
                                <span class="stat-label">Port</span>
                                <span class="stat-value">5432</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">DB</span>
                                <span class="stat-value">afl_fantasy</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="status-card tertiary" id="redisStatus">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="layers"></i>
                        </div>
                        <div class="card-title">Redis Cache</div>
                    </div>
                    <div class="card-content">
                        <div class="status-indicator">
                            <div class="status-dot active"></div>
                            <span class="status-text">Active</span>
                        </div>
                        <div class="card-stats">
                            <div class="stat">
                                <span class="stat-label">Port</span>
                                <span class="stat-value">6379</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Memory</span>
                                <span class="stat-value" id="redisMemory">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="status-card quaternary" id="scraperStatus">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="spider"></i>
                        </div>
                        <div class="card-title">Data Scraper</div>
                    </div>
                    <div class="card-content">
                        <div class="status-indicator">
                            <div class="status-dot active"></div>
                            <span class="status-text">Scraping</span>
                        </div>
                        <div class="card-stats">
                            <div class="stat">
                                <span class="stat-label">Last Run</span>
                                <span class="stat-value" id="scraperLastRun">--</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Records</span>
                                <span class="stat-value" id="scraperRecords">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performance Metrics -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2>Performance Metrics</h2>
                <div class="metric-tabs">
                    <button class="tab-btn active" data-metric="cpu">CPU</button>
                    <button class="tab-btn" data-metric="memory">Memory</button>
                    <button class="tab-btn" data-metric="network">Network</button>
                </div>
            </div>
            <div class="metrics-grid">
                <div class="metric-card chart-card">
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
                <div class="metric-card stats-card">
                    <div class="metric-stats">
                        <div class="metric-item">
                            <div class="metric-label">CPU Usage</div>
                            <div class="metric-value">
                                <span id="cpuValue">--</span>%
                            </div>
                            <div class="metric-bar">
                                <div class="metric-fill" id="cpuBar"></div>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Memory Usage</div>
                            <div class="metric-value">
                                <span id="memoryValue">--</span>%
                            </div>
                            <div class="metric-bar">
                                <div class="metric-fill" id="memoryBar"></div>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Disk Usage</div>
                            <div class="metric-value">
                                <span id="diskValue">--</span>%
                            </div>
                            <div class="metric-bar">
                                <div class="metric-fill" id="diskBar"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AFL Data Pipeline -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2>AFL Data Pipeline</h2>
                <div class="section-actions">
                    <button class="action-btn primary" id="triggerScrapingBtn">
                        <i data-lucide="play"></i>
                        Trigger Scraping
                    </button>
                </div>
            </div>
            <div class="pipeline-grid">
                <div class="pipeline-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="users"></i>
                        </div>
                        <div class="card-title">Player Data</div>
                    </div>
                    <div class="pipeline-stats">
                        <div class="pipeline-stat">
                            <span class="stat-number" id="playerCount">--</span>
                            <span class="stat-label">Total Players</span>
                        </div>
                        <div class="pipeline-stat">
                            <span class="stat-number" id="playerUpdated">--</span>
                            <span class="stat-label">Updated Today</span>
                        </div>
                    </div>
                </div>

                <div class="pipeline-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="calendar"></i>
                        </div>
                        <div class="card-title">Match Data</div>
                    </div>
                    <div class="pipeline-stats">
                        <div class="pipeline-stat">
                            <span class="stat-number" id="matchCount">--</span>
                            <span class="stat-label">Total Matches</span>
                        </div>
                        <div class="pipeline-stat">
                            <span class="stat-number" id="upcomingMatches">--</span>
                            <span class="stat-label">Upcoming</span>
                        </div>
                    </div>
                </div>

                <div class="pipeline-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="trending-up"></i>
                        </div>
                        <div class="card-title">Fantasy Scores</div>
                    </div>
                    <div class="pipeline-stats">
                        <div class="pipeline-stat">
                            <span class="stat-number" id="avgScore">--</span>
                            <span class="stat-label">Avg Score</span>
                        </div>
                        <div class="pipeline-stat">
                            <span class="stat-number" id="topScore">--</span>
                            <span class="stat-label">Top Score</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- iOS App Integration -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2>iOS App Integration</h2>
                <div class="connection-indicator" id="iosConnection">
                    <div class="connection-dot"></div>
                    <span>Preparing Connection</span>
                </div>
            </div>
            <div class="ios-integration-grid">
                <div class="integration-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="smartphone"></i>
                        </div>
                        <div class="card-title">App Status</div>
                    </div>
                    <div class="card-content">
                        <div class="integration-status">
                            <div class="status-item">
                                <span class="status-label">Build Status</span>
                                <span class="status-value" id="buildStatus">Ready</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Last Sync</span>
                                <span class="status-value" id="lastSync">--</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">API Version</span>
                                <span class="status-value">v1.0.0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="integration-card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i data-lucide="sync"></i>
                        </div>
                        <div class="card-title">Data Sync</div>
                    </div>
                    <div class="card-content">
                        <div class="sync-controls">
                            <button class="control-btn" id="syncPlayersBtn">
                                <i data-lucide="users"></i>
                                Sync Players
                            </button>
                            <button class="control-btn" id="syncMatchesBtn">
                                <i data-lucide="calendar"></i>
                                Sync Matches
                            </button>
                            <button class="control-btn" id="syncScoresBtn">
                                <i data-lucide="trending-up"></i>
                                Sync Scores
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Real-time Logs -->
        <section class="dashboard-section">
            <div class="section-header">
                <h2>System Logs</h2>
                <div class="section-actions">
                    <button class="action-btn secondary" id="clearLogsBtn">
                        <i data-lucide="trash-2"></i>
                        Clear
                    </button>
                </div>
            </div>
            <div class="logs-container">
                <div class="log-output" id="logOutput">
                    <div class="log-entry info">
                        <span class="log-timestamp">[03:55:32]</span>
                        <span class="log-level">INFO</span>
                        <span class="log-message">All services started successfully</span>
                    </div>
                    <div class="log-entry success">
                        <span class="log-timestamp">[03:55:30]</span>
                        <span class="log-level">SUCCESS</span>
                        <span class="log-message">Health Monitor started</span>
                    </div>
                    <div class="log-entry success">
                        <span class="log-timestamp">[03:55:27]</span>
                        <span class="log-level">SUCCESS</span>
                        <span class="log-message">Express server started</span>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="closeSettings">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label>Refresh Interval</label>
                    <select id="refreshInterval">
                        <option value="5000">5 seconds</option>
                        <option value="10000" selected>10 seconds</option>
                        <option value="30000">30 seconds</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Theme</label>
                    <select id="themeSelect">
                        <option value="neon-dark" selected>Neon Dark</option>
                        <option value="cyber-blue">Cyber Blue</option>
                        <option value="matrix-green">Matrix Green</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Auto-refresh</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="autoRefresh" checked>
                        <label for="autoRefresh"></label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
